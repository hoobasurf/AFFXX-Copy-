<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fun</title>
<style>
  body { background:#111; color:white; font-family:Arial, sans-serif; }
  .card { display:inline-block; margin:10px; padding:10px; background:#222; border-radius:12px; text-align:center; }
  .card img { width:120px; height:120px; border-radius:50%; }
</style>
</head>
<body>

<h1>Liste Fun</h1>

<div class="card" data-name="Eve">
  <img src="eve.jpg" alt="Eve">
  <div>Eve</div>
</div>

<div class="card" data-name="Frank">
  <img src="frank.jpg" alt="Frank">
  <div>Frank</div>
</div>

<script>
function openChat(name){
  alert("Ouvrir chat avec " + name);
}

// ======= OUVRIR PROFIL EN CLIQUANT SUR LA PHOTO =======
document.querySelectorAll(".card img").forEach(img => {
  img.style.cursor = "pointer";
  img.addEventListener("click", () => {
    const card = img.closest(".card");
    if (!card) return;
    const name = card.dataset.name;

    let existingModal = document.getElementById("profileModal");
    if (existingModal) existingModal.remove();

    const modal = document.createElement("div");
    modal.id = "profileModal";
    Object.assign(modal.style, {
      position: "fixed",
      top: "0",
      left: "0",
      width: "100%",
      height: "100%",
      background: "rgba(0,0,0,0.8)",
      display: "flex",
      justifyContent: "center",
      alignItems: "center",
      zIndex: 20000
    });

    const content = document.createElement("div");
    Object.assign(content.style, {
      background: "rgba(0,0,0,0.9)",
      padding: "20px",
      borderRadius: "16px",
      textAlign: "center",
      color: "white",
      maxWidth: "300px",
      animation: "zoomIn 0.3s ease"
    });

    content.innerHTML = `
      <img src="${img.src}" style="width:150px;height:150px;border-radius:50%;border:3px solid #ff66cc;margin-bottom:10px;">
      <div style="font-size:1.2em;margin-bottom:5px;">${name}</div>
      <button id="openChatBtn" style="padding:8px 16px;margin-top:10px;background:#ff66cc;border:none;border-radius:8px;color:white;cursor:pointer;">Chat</button>
      <button id="closeProfileBtn" style="padding:5px 10px;margin-top:10px;margin-left:10px;background:#333;border:none;border-radius:8px;color:white;cursor:pointer;">Fermer</button>
    `;

    modal.appendChild(content);
    document.body.appendChild(modal);

    document.getElementById("closeProfileBtn").onclick = () => modal.remove();
    document.getElementById("openChatBtn").onclick = () => { 
      modal.remove(); 
      openChat(name); 
    };
  });
});

// Animation zoom
const style = document.createElement('style');
style.innerHTML = `
@keyframes zoomIn {
  0% { transform: scale(0.5); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}`;
document.head.appendChild(style);
</script>

</body>
</html>
